<!-- # Quarantine
<html>
  <head>
    <title>Title</title>
  </head>
  <body>
    <h1>H1</h1>
    <p>P2</p>
    <form>
      <input type="text">
    </form>
    <button type="button">Roll</button>
  </body>
</html> -->
  


<!DOCTYPE html>
<html>
   <meta charset = "utf-8" />
   <title>WebSocket Test</title>

	<script language = "javascript" type = "text/javascript">
		var wsUri = "ws://echo.websocket.org/";
		var output;

		function init()
		{
			output = document.getElementById("output");
			testWebSocket();
		}

		function testWebSocket()
		{
			websocket = new WebSocket(wsUri);

			websocket.onopen = function(evt) {onOpen(evt)};
			websocket.onmessage = function(evt) {onMessage(evt)};
			websocket.onerror = function(evt) {onError(evt)};
		}

		function onOpen(evt)
		{
			writeToScreen("CONNECTED");
			doSend("WebSocket rocks");
		}

		function onMessage(evt)
		{
			writeToScreen('<span style = "color: blue;">RESPONSE: ' + evt.data+'</span>');
			websocket.close();
		}

		function onError(evt)
		{
			writeToScreen('<span style="color: red;">ERROR:</span> ' + evt.data);
		}

		function doSend(message)
		{
			writeToScreen("SENT: " + message); websocket.send(message);
		}

		function writeToScreen(message)
		{
			var pre = document.createElement("p"); 
			pre.style.wordWrap = "break-word"; 
			pre.innerHTML = message; output.appendChild(pre);
		}

		window.addEventListener("load", init, false);

		class PlayerTurn
		{
			constructor(player, roll)
			{
			  this.player = player;
			  this.roll = roll;
			}
		}
		
		var saveData = (function ()
		{
			var a = document.createElement("a");
			document.body.appendChild(a);
			a.style = "display: none";
			
			return function (data, fileName)
			{
				var json = JSON.stringify(data),
					blob = new Blob([json], {type: "octet/stream"}),
					url = window.URL.createObjectURL(blob);
				a.href = url;
				a.download = fileName;
				a.click();
				window.URL.revokeObjectURL(url);
			};
		}());
		
		var data = {x: 42, s: "hello, world", d: new Date()},
			fileName = "my-download.json";
	</script>
	
	<h2>WebSocket Test 2</h2>
	<form>
		<input type="text">
	</form>
	<button type="button">Roll</button>
	<div id = "output"></div> 
</html>
